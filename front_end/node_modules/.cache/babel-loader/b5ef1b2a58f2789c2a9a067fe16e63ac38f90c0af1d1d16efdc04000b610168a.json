{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/tode_/Desktop/\\u0E1B2\\u0E172/test_space/software-dev/front_end/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/tode_/Desktop/\\u0E1B2\\u0E172/test_space/software-dev/front_end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/tode_/Desktop/\\u0E1B2\\u0E172/test_space/software-dev/front_end/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./../Style/EditMenuShop.css';import{useState,useEffect}from'react';import{variables}from\"../Variables\";import Swal from'sweetalert2';import withReactContent from'sweetalert2-react-content';import{useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AppEditMenuShop(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){fetch(variables.API_URL+\"get_shop_menu/\"+id,{method:\"GET\",headers:{'Accept':'application/json, text/plain','Content-Type':'application/json;charset=UTF-8'}}).then(function(response){return response.json();}).then(function(result){console.log(result);setName(result[0].menu_name);setPrice(result[0].price);});},[]);function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var MySwal;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:MySwal=withReactContent(Swal);e.preventDefault();try{fetch(variables.API_URL+\"update_shop_menu\",{method:\"POST\",headers:{'Accept':'application/json, text/plain','Content-Type':'application/json;charset=UTF-8'},body:JSON.stringify({id:id,menu_name:name,price:price})}).then(function(response){return response.json();}).then(function(result){if(result.msg){MySwal.fire({html:/*#__PURE__*/_jsx(\"p\",{children:result.msg}),icon:\"success\",confirmButtonColor:\"#F07221\"}).then(function(){// window.location.reload(false);\n});}else{MySwal.fire({html:'<p style=\"text-align: left; margin: 0 auto;max-width: fit-content;\">'+result.error+'</p>',icon:\"error\",confirmButtonColor:\"#F07221\"});}});}catch(err){alert(err);}case 3:case\"end\":return _context.stop();}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"EditMenuShop\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"EMNS_add_box\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Menu Shop\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"EMNS_add_img\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://www.aloexhair.com/wp-content/uploads/2018/06/shutterstock_708886852.jpg\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"EMNS_add_details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"EMNS_add_input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"\",name:\"\",id:\"\",placeholder:\"Name\",value:name,onChange:function onChange(e){setName(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"EMNS_add_input\",children:/*#__PURE__*/_jsx(\"input\",{className:\"\",name:\"\",id:\"\",placeholder:\"price (B)\",value:price,onChange:function onChange(e){setPrice(e.target.value);}})}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"EMNS_button_submit\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-pen\"}),\" Edit\"]})]})]})]})});}export default AppEditMenuShop;","map":{"version":3,"names":["useState","useEffect","variables","Swal","withReactContent","useParams","jsx","_jsx","jsxs","_jsxs","AppEditMenuShop","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","price","setPrice","_useParams","id","fetch","API_URL","method","headers","then","response","json","result","console","log","menu_name","handleSubmit","_x","_handleSubmit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","MySwal","wrap","_callee$","_context","prev","next","preventDefault","body","JSON","stringify","msg","fire","html","children","icon","confirmButtonColor","error","err","alert","stop","className","onSubmit","src","alt","placeholder","value","onChange","target","type"],"sources":["C:/Users/tode_/Desktop/ป2ท2/test_space/software-dev/front_end/src/Components/EditMenuShop.js"],"sourcesContent":["\r\nimport './../Style/EditMenuShop.css';\r\nimport { useState, useEffect } from 'react';\r\nimport {variables} from \"../Variables\";\r\nimport Swal from 'sweetalert2'\r\nimport withReactContent from 'sweetalert2-react-content'\r\nimport { useParams } from 'react-router-dom';\r\n\r\nfunction AppEditMenuShop() {\r\n  const [name, setName] = useState('');\r\n  const [price, setPrice] = useState('');\r\n  const {id} = useParams();\r\n\r\n  useEffect(()=>{\r\n    fetch(variables.API_URL+\"get_shop_menu/\"+id, {\r\n      method: \"GET\",\r\n      headers: {\r\n          'Accept': 'application/json, text/plain',\r\n          'Content-Type': 'application/json;charset=UTF-8'\r\n      },\r\n      })\r\n      .then(response => response.json())\r\n      .then(result => {\r\n          console.log(result)\r\n          setName(result[0].menu_name)\r\n          setPrice(result[0].price)\r\n      }\r\n  )\r\n  }, [])\r\n\r\n  async function handleSubmit(e){\r\n    const MySwal = withReactContent(Swal);\r\n    e.preventDefault();\r\n    try {\r\n        fetch(variables.API_URL+\"update_shop_menu\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Accept': 'application/json, text/plain',\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            },\r\n            body: JSON.stringify({\r\n                id: id,\r\n                menu_name: name,\r\n                price: price\r\n            }),\r\n        })\r\n        .then(response => response.json())\r\n        .then(result => {\r\n            if(result.msg){\r\n                MySwal.fire({\r\n                    html: <p>{result.msg}</p>,\r\n                    icon: \"success\",\r\n                    confirmButtonColor: \"#F07221\"\r\n                }).then(() => {\r\n                    // window.location.reload(false);\r\n                })\r\n            } \r\n            else{\r\n                MySwal.fire({\r\n                    html: \r\n                        '<p style=\"text-align: left; margin: 0 auto;max-width: fit-content;\">'+\r\n                        result.error+\r\n                        '</p>',\r\n                    icon: \"error\",\r\n                    confirmButtonColor: \"#F07221\"\r\n                })\r\n            }\r\n        });\r\n    } catch (err) {\r\n        alert(err);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='EditMenuShop'>\r\n      <div className=\"EMNS_add_box\">\r\n        <h1>Edit Menu Shop</h1>\r\n        <form onSubmit={handleSubmit}>\r\n            <div className=\"EMNS_add_img\"><img src=\"https://www.aloexhair.com/wp-content/uploads/2018/06/shutterstock_708886852.jpg\" alt=\"\"></img></div>\r\n            <div className=\"EMNS_add_details\">\r\n                <div className=\"EMNS_add_input\"><input className=\"\" name=\"\" id=\"\" placeholder=\"Name\" value={name} onChange={(e)=>{setName(e.target.value)}}></input></div>\r\n                <div className=\"EMNS_add_input\"><input className=\"\" name=\"\" id=\"\" placeholder=\"price (B)\" value={price} onChange={(e)=>{setPrice(e.target.value)}}></input></div>\r\n                <button type=\"submit\" className=\"EMNS_button_submit\">\r\n                  <i className=\"fa-solid fa-pen\"></i> Edit\r\n                </button>\r\n            </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AppEditMenuShop;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}